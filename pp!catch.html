<!DOCTYPE html>
<html>
	<head>
		<title>JS Constructors - SW4</title>
		<meta charset="UTF-8"/>
	</head>
	<body>
		<script>
			/*
			config.read('config.ini')
			api_key = config.get("DEFAULT", "APIKey")
			# var setting
			if api_key is not "":
				osubdata = get_b_data(api_key)
			else:
				errors.configure(text="No API Key! Please indicate one in the config.ini.\n API Key can be found at \"https://osu.ppy.sh/p/api\".")
				pass
			stars = float(osubdata[0]["difficultyrating"])
			max_combo = int(osubdata[0]["max_combo"])
			try:
				miss = int(missI.get()) if int(missI.get()) < max_combo else 0
			except:
				miss = 0
			try:
				max_player_combo = int(max_player_comboI.get()) if int(max_player_comboI.get()) <= max_combo else max_combo - miss
			except:
				max_player_combo = max_combo - miss
			try:
				acc = float(accI.get()) if float(accI.get()) >= 0 and float(accI.get()) <= 100 else 100
			except:
				acc = float(100)
			ar = float(osubdata[0]["diff_approach"])

			# DT must be applied first since it is not a multiplier
			if DT.get() == 1:
				if ar > 5:
					ms = 200 + (11 - ar) * 100
				else:
					ms = 800 + (5 - ar) * 80
				if (ms < 300):
					ar = 11
				elif (ms < 1200):
					ar = round((11 - (ms - 300) / 150) * 100, 0) / 100
				else:
					ar = round((5 - (ms - 1200) / 120) * 100, 0) / 100
				print(ar)
			print(ar)
			finalpp = pow(((5 * max(1, stars / 0.0049)) - 4), 2) / 100000
			finalpp *= 0.95 + 0.4 * min(1.0, max_combo / 3000.0) + (math.log(max_combo / 3000.0, 10) * 0.5 if max_combo > 3000 else 0.0)
			finalpp *= pow(0.97, miss)
			finalpp *= pow(max_player_combo / max_combo, 0.8)
			if (ar > 9):
				finalpp *= 1 + 0.1 * (ar - 9.0)
			if (ar < 8):
				finalpp *= 1 + 0.025 * (8.0 - ar)
			else:
				finalpp *= 1
			finalpp *= pow(acc / 100, 5.5)

			# mods
			if HD.get() == 1:
				finalpp *= 1.05 + 0.075 * (10.0 - min(10.0, ar))
			if FL.get() == 1:
				finalpp *= 1.35 * (0.95 + 0.4 * min(1.0, max_combo / 3000.0) + (math.log(max_combo / 3000.0, 10) * 0.5 if max_combo > 3000 else 0.0))
			if NF.get() == 1:
				finalpp *= 0.90
			# END

			ppdisplaying(round(finalpp, 2))
			*/

			function ctbppcalc(){
				finalpp = pow(((5 * max(1, stars / 0.0049)) - 4), 2) / 100000
				finalpp *= 0.95 + 0.4 * min(1.0, max_combo / 3000.0) + (math.log(max_combo / 3000.0, 10) * 0.5 if max_combo > 3000 else 0.0)
				finalpp *= pow(0.97, miss)
				finalpp *= pow(max_player_combo / max_combo, 0.8)
				if (ar > 9){
					finalpp *= 1 + 0.1 * (ar - 9.0)
				}
				if (ar < 8){
					finalpp *= 1 + 0.025 * (8.0 - ar)
				}
				else {
					finalpp *= 1
				}
				finalpp *= pow(acc / 100, 5.5)
			}
		</script>
	</body>
</html>